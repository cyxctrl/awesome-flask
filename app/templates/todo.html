{% extends 'base.html' %}
{% block content %}

<h1 class="text-center text-danger">{{username}}'s Todo List</h1>

<form class="input-group" action="/{{ username }}/todo/add" method="post">
    <input class="form-control" name="content" type="text" value="" maxlength="50" required="required">
    <span class="input-group-btn">
         <button class="btn btn-primary" type="submit">Add</button>
    </span>
</form>

{% if todo_list[0] %}
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <td>Contents</td>
            <td>Time</td>
            <td>Status</td>
        </tr>
    </thead>
    <tbody>
        {% for todo in todo_list %}
        <tr>
            <td>{{ todo['content'] }}</td>
            <td>{{ todo['time'] }}</td>
            <td>
            {% if todo['status'] == 0 %}
            <a href="/{{ username }}/todo/undo/{{ todo['_id'] }}" class="btn btn-primary">Undo</a>
            {% else %}
            <a href="/{{ username }}/todo/done/{{ todo['_id'] }}" class="btn btn-success">Done</a>
            {% endif %}
            <a href="/{{ username }}/todo/delete/{{ todo['_id'] }}" class="btn btn-danger">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<h3 class="text-info">No todos, pelease add.</h3>
{% endif %}

{% endblock %}