{% extends "base_logged_in.html" %}

{% block content %}
<h1>密保问题</h1>
<form role="form" action="{{ url_for('auth.forget_password') }}" method="post">
    <div class="form-group">
        {{ form.hidden_tag() }}
    </div>

    <div class="form-group">
        <label>邮箱</label>
        {{ form.email(class="form-control",placeholder=form.email.label.text,readonly=readonly) }}
    </div>
    <div class="form-group">
        <label>用户名</label>
        {{ form.username(class="form-control",placeholder=form.username.label.text,readonly=readonly) }}
    </div>
    <div class="form-group">
        <label>问题1：{{ question1 }}</label>
        {% if form.answer1.errors %}
        <div class="has-error">
            {{ form.answer1(class="form-control",placeholder=form.answer1.label.text) }}
            <dl>
                {% for error in form.answer1.errors %}
                <dd class="text-danger">{{ error }}</dd>
                {% endfor %}
            </dl>
        </div>
        {% else %}
        <div>
            {{ form.answer1(class="form-control",placeholder=form.answer1.label.text) }}
        </div>
        {% endif %}
    </div>

    <div class="form-group">
        <label>问题2：{{ question2 }}</label>
        {% if form.answer2.errors %}
        <div class="has-error">
            {{ form.answer2(class="form-control",placeholder=form.answer2.label.text) }}
            <dl>
                {% for error in form.answer2.errors %}
                <dd class="text-danger">{{ error }}</dd>
                {% endfor %}
            </dl>
        </div>
        {% else %}
        <div>
            {{ form.answer2(class="form-control",placeholder=form.answer2.label.text) }}
        </div>
        {% endif %}
    </div>

    <div class="form-group">
        <label>新密码</label>
        {% if form.new_password.errors %}
        <div class="has-error">
            {{ form.new_password(class="form-control",placeholder=form.new_password.label.text) }}
            <dl>
                {% for error in form.new_password.errors %}
                <dd class="text-danger">{{ error }}</dd>
                {% endfor %}
            </dl>
        </div>
        {% else %}
        <div>
            {{ form.new_password(class="form-control",placeholder=form.new_password.label.text) }}
        </div>
        {% endif %}
    </div>

    <div class="form-group">
        <label>确认新密码</label>
        {% if form.new_password2.errors %}
        <div class="has-error">
            {{ form.new_password2(class="form-control",placeholder=form.new_password2.label.text) }}
            <dl>
                {% for error in form.new_password2.errors %}
                <dd class="text-danger">{{ error }}</dd>
                {% endfor %}
            </dl>
        </div>
        {% else %}
        <div>
            {{ form.new_password2(class="form-control",placeholder=form.new_password.label.text) }}
        </div>
        {% endif %}
    </div>

    <div class="form-group">
        {{ form.submit(class="btn btn-primary form-control") }}
    </div>
</form>

{% endblock %}